<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.262">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Vincent Arel-Bundock and contributors.">
<title>marginaleffects 0.12.0 - marginal_means</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../reference/plot_predictions.html" rel="next">
<link href="../reference/slopes.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
</head>
<body class="nav-sidebar floating nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">marginaleffects 0.12.0</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link active" href="../articles/marginaleffects.html" aria-current="page">
 <span class="menu-text">Get Started</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../functions.html">
 <span class="menu-text">Functions</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../articles/NEWS.html">
 <span class="menu-text">News</span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/vincentab"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/vincentarelbundock/marginaleffects"><i class="bi bi-github" role="img" aria-label="marginaleffects GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div class="quarto-toggle-container">
                  <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">marginal_means</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../index.html" class="sidebar-item-text sidebar-link">marginaleffects</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/marginaleffects.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Get Started</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/predictions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Predictions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/comparisons.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Comparisons</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/slopes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Slopes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/marginalmeans.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Marginal Means</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/plot.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Plots</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/hypothesis.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Hypothesis Tests</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Case studies</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/brms.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Bayes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/bootstrap.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Bootstrap &amp; Simulation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/categorical.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Categorical outcomes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/gformula.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Causal Inference</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/elasticity.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Elasticity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/experiments.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Experiments</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/gam.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">GAM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/logit.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Logit</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/lme4.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Mixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/multiple_imputation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Missing Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/python.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Python</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Misc</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/alternative_software.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Alternative Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/extensions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Extensions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/links.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Links</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/performance.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Performance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/uncertainty.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Standard Errors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/supported_models.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Supported Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/tables.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Tables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/faq.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">FAQ</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/supported_models.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Supported Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/NEWS.html" class="sidebar-item-text sidebar-link">News</a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../functions.html" class="sidebar-item-text sidebar-link">Functions</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/predictions.html" class="sidebar-item-text sidebar-link">predictions</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/comparisons.html" class="sidebar-item-text sidebar-link">comparisons</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/slopes.html" class="sidebar-item-text sidebar-link">slopes</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/marginal_means.html" class="sidebar-item-text sidebar-link active">marginal_means</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/plot_predictions.html" class="sidebar-item-text sidebar-link">plot_predictions</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/plot_comparisons.html" class="sidebar-item-text sidebar-link">plot_comparisons</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/plot_slopes.html" class="sidebar-item-text sidebar-link">plot_slopes</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/datagrid.html" class="sidebar-item-text sidebar-link">datagrid</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/hypotheses.html" class="sidebar-item-text sidebar-link">hypotheses</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inferences.html" class="sidebar-item-text sidebar-link">inferences</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/posterior_draws.html" class="sidebar-item-text sidebar-link">posterior_draws</a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#description" id="toc-description" class="nav-link active" data-scroll-target="#description">Description</a></li>
  <li><a href="#usage" id="toc-usage" class="nav-link" data-scroll-target="#usage">Usage</a></li>
  <li><a href="#arguments" id="toc-arguments" class="nav-link" data-scroll-target="#arguments">Arguments</a></li>
  <li><a href="#details" id="toc-details" class="nav-link" data-scroll-target="#details">Details</a></li>
  <li><a href="#value" id="toc-value" class="nav-link" data-scroll-target="#value">Value</a></li>
  <li><a href="#standard-errors-using-the-delta-method" id="toc-standard-errors-using-the-delta-method" class="nav-link" data-scroll-target="#standard-errors-using-the-delta-method">Standard errors using the delta method</a></li>
  <li><a href="#model-specific-arguments" id="toc-model-specific-arguments" class="nav-link" data-scroll-target="#model-specific-arguments">Model-Specific Arguments</a></li>
  <li><a href="#bayesian-posterior-summaries" id="toc-bayesian-posterior-summaries" class="nav-link" data-scroll-target="#bayesian-posterior-summaries">Bayesian posterior summaries</a></li>
  <li><a href="#equivalence-inferiority-superiority" id="toc-equivalence-inferiority-superiority" class="nav-link" data-scroll-target="#equivalence-inferiority-superiority">Equivalence, Inferiority, Superiority</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples">Examples</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">marginal_means</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><p>Marginal Means</p>
<section id="description" class="level2"><h2 class="anchored" data-anchor-id="description">Description</h2>
<p>
Marginal means are adjusted predictions, averaged across a grid of categorical predictors, holding other numeric predictors at their means. To learn more, read the marginal means vignette, visit the package website, or scroll down this page for a full list of vignettes:
</p>
<ul>
<li>
<p>
<a href="https://vincentarelbundock.github.io/marginaleffects/articles/marginalmeans.html">https://vincentarelbundock.github.io/marginaleffects/articles/marginalmeans.html</a>
</p>
</li>
<li>
<p>
<a href="https://vincentarelbundock.github.io/marginaleffects/">https://vincentarelbundock.github.io/marginaleffects/</a>
</p>
</li>
</ul></section><section id="usage" class="level2"><h2 class="anchored" data-anchor-id="usage">Usage</h2>
<pre><code class="language-R">marginal_means(
  model,
  variables = NULL,
  newdata = NULL,
  vcov = TRUE,
  conf_level = 0.95,
  type = NULL,
  transform = NULL,
  cross = FALSE,
  hypothesis = NULL,
  equivalence = NULL,
  p_adjust = NULL,
  df = Inf,
  wts = "equal",
  by = NULL,
  ...
)
</code></pre>
</section><section id="arguments" class="level2"><h2 class="anchored" data-anchor-id="arguments">Arguments</h2>

<table>
<tbody><tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">model</td>
<td>
<p>
Model object
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">variables</td>
<td>
<p>
Focal variables
</p>
<ul>
<li>
<p>
Character vector of variable names: compute marginal means for each category of the listed variables.
</p>
</li>
<li>
<p>
<code>NULL</code>: calculate marginal means for all logical, character, or factor variables in the dataset used to fit <code>model</code>. Hint: Set <code>cross=TRUE</code> to compute marginal means for combinations of focal variables.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">newdata</td>
<td>
<p>
Grid of predictor values over which we marginalize.
</p>
<ul>
<li>
<p>
<code>NULL</code> create a grid with all combinations of all categorical predictors in the model. Warning: can be expensive.
</p>
</li>
<li>
<p>
Character vector: subset of categorical variables to use when building the balanced grid of predictors. Other variables are held to their mean or mode.
</p>
</li>
<li>
<p>
Data frame: A data frame which includes all the predictors in the original model. The full dataset is replicated once for every combination of the focal variables in the <code>variables</code> argument, using the <code><a href="https://vincentarelbundock.github.io/marginaleffects/reference/datagrid.html">datagridcf()</a></code> function.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">vcov</td>
<td>
<p>
Type of uncertainty estimates to report (e.g., for robust standard errors). Acceptable values:
</p>
<ul>
<li>
<p>
FALSE: Do not compute standard errors. This can speed up computation considerably.
</p>
</li>
<li>
<p>
TRUE: Unit-level standard errors using the default <code>vcov(model)</code> variance-covariance matrix.
</p>
</li>
<li>
<p>
String which indicates the kind of uncertainty estimates to return.
</p>
<ul>
<li>
<p>
Heteroskedasticity-consistent: <code>“HC”</code>, <code>“HC0”</code>, <code>“HC1”</code>, <code>“HC2”</code>, <code>“HC3”</code>, <code>“HC4”</code>, <code>“HC4m”</code>, <code>“HC5”</code>. See <code><a href="https://sandwich.R-Forge.R-project.org/reference/vcovHC.html">?sandwich::vcovHC</a></code>
</p>
</li>
<li>
<p>
Heteroskedasticity and autocorrelation consistent: <code>“HAC”</code>
</p>
</li>
<li>
<p>
Mixed-Models degrees of freedom: "satterthwaite", "kenward-roger"
</p>
</li>
<li>
<p>
Other: <code>“NeweyWest”</code>, <code>“KernHAC”</code>, <code>“OPG”</code>. See the <code>sandwich</code> package documentation.
</p>
</li>
</ul>
</li>
<li>
<p>
One-sided formula which indicates the name of cluster variables (e.g., <code>~unit_id</code>). This formula is passed to the <code>cluster</code> argument of the <code><a href="https://sandwich.R-Forge.R-project.org/reference/vcovCL.html">sandwich::vcovCL</a></code> function.
</p>
</li>
<li>
<p>
Square covariance matrix
</p>
</li>
<li>
<p>
Function which returns a covariance matrix (e.g., <code>stats::vcov(model)</code>)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">conf_level</td>
<td>
<p>
numeric value between 0 and 1. Confidence level to use to build a confidence interval.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">type</td>
<td>
<p>
string indicates the type (scale) of the predictions used to compute marginal effects or contrasts. This can differ based on the model type, but will typically be a string such as: "response", "link", "probs", or "zero". When an unsupported string is entered, the model-specific list of acceptable values is returned in an error message. When <code>type</code> is <code>NULL</code>, the default value is used. This default is the first model-related row in the <code>marginaleffects:::type_dictionary</code> dataframe. If <code>type</code> is <code>NULL</code> and the default value is "response", the function tries to compute marginal means on the link scale before backtransforming them using the inverse link function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">transform</td>
<td>
<p>
A function applied to unit-level adjusted predictions and confidence intervals just before the function returns results. For bayesian models, this function is applied to individual draws from the posterior distribution, before computing summaries.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">cross</td>
<td>
<p>
TRUE or FALSE
</p>
<ul>
<li>
<p>
<code>FALSE</code> (default): Marginal means are computed for each predictor individually.
</p>
</li>
<li>
<p>
<code>TRUE</code>: Marginal means are computed for each combination of predictors specified in the <code>variables</code> argument.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">hypothesis</td>
<td>
<p>
specify a hypothesis test or custom contrast using a numeric value, vector, or matrix, a string, or a string formula.
</p>
<ul>
<li>
<p>
Numeric:
</p>
<ul>
<li>
<p>
Single value: the null hypothesis used in the computation of Z and p (before applying <code>transform</code>).
</p>
</li>
<li>
<p>
Vector: Weights to compute a linear combination of (custom contrast between) estimates. Length equal to the number of rows generated by the same function call, but without the <code>hypothesis</code> argument.
</p>
</li>
<li>
<p>
Matrix: Each column is a vector of weights, as describe above, used to compute a distinct linear combination of (contrast between) estimates. The column names of the matrix are used as labels in the output.
</p>
</li>
</ul>
</li>
<li>
<p>
String formula to specify linear or non-linear hypothesis tests. If the <code>term</code> column uniquely identifies rows, terms can be used in the formula. Otherwise, use <code>b1</code>, <code>b2</code>, etc. to identify the position of each parameter. Examples:
</p>
<ul>
<li>
<p>
<code>hp = drat</code>
</p>
</li>
<li>
<p>
<code>hp + drat = 12</code>
</p>
</li>
<li>
<p>
<code>b1 + b2 + b3 = 0</code>
</p>
</li>
</ul>
</li>
<li>
<p>
String:
</p>
<ul>
<li>
<p>
"pairwise": pairwise differences between estimates in each row.
</p>
</li>
<li>
<p>
"reference": differences between the estimates in each row and the estimate in the first row.
</p>
</li>
<li>
<p>
"sequential": difference between an estimate and the estimate in the next row.
</p>
</li>
<li>
<p>
"revpairwise", "revreference", "revsequential": inverse of the corresponding hypotheses, as described above.
</p>
</li>
</ul>
</li>
<li>
<p>
See the Examples section below and the vignette: https://vincentarelbundock.github.io/marginaleffects/articles/hypothesis.html
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">equivalence</td>
<td>
<p>
Numeric vector of length 2: bounds used for the two-one-sided test (TOST) of equivalence, and for the non-inferiority and non-superiority tests. See Details section below.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">p_adjust</td>
<td>
<p>
Adjust p-values for multiple comparisons: "holm", "hochberg", "hommel", "bonferroni", "BH", "BY", or "fdr". See stats::p.adjust
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">df</td>
<td>
<p>
Degrees of freedom used to compute p values and confidence intervals. A single numeric value between 1 and <code>Inf</code>. When <code>df</code> is <code>Inf</code>, the normal distribution is used. When <code>df</code> is finite, the <code>t</code> distribution is used. See insight::get_df for a convenient function to extract degrees of freedom. Ex: <code>slopes(model, df = insight::get_df(model))</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">wts</td>
<td>
<p>
character value. Weights to use in the averaging.
</p>
<ul>
<li>
<p>
"equal": each combination of variables in <code>newdata</code> gets equal weight.
</p>
</li>
<li>
<p>
"cells": each combination of values for the variables in the <code>newdata</code> gets a weight proportional to its frequency in the original data.
</p>
</li>
<li>
<p>
"proportional": each combination of values for the variables in <code>newdata</code> – except for those in the <code>variables</code> argument – gets a weight proportional to its frequency in the original data.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">by</td>
<td>
<p>
Collapse marginal means into categories. Data frame with a <code>by</code> column of group labels, and merging columns shared by <code>newdata</code> or the data frame produced by calling the same function without the <code>by</code> argument.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td style="white-space: nowrap; font-family: monospace;>">...</td>
<td>
<p>
Additional arguments are passed to the <code><a href="https://rdrr.io/r/stats/predict.html">predict()</a></code> method supplied by the modeling package.These arguments are particularly useful for mixed-effects or bayesian models (see the online vignettes on the <code>marginaleffects</code> website). Available arguments can vary from model to model, depending on the range of supported arguments by each modeling package. See the "Model-Specific Arguments" section of the <code><a href="https://vincentarelbundock.github.io/marginaleffects/reference/marginaleffects.html">?marginaleffects</a></code> documentation for a non-exhaustive list of available arguments.
</p>
</td>
</tr>
</tbody></table></section><section id="details" class="level2"><h2 class="anchored" data-anchor-id="details">Details</h2>
<p>
This function begins by calling the <code>predictions</code> function to obtain a grid of predictors, and adjusted predictions for each cell. The grid includes all combinations of the categorical variables listed in the <code>variables</code> and <code>newdata</code> arguments, or all combinations of the categorical variables used to fit the model if <code>newdata</code> is <code>NULL</code>. In the prediction grid, numeric variables are held at their means.
</p>
<p>
After constructing the grid and filling the grid with adjusted predictions, <code>marginal_means</code> computes marginal means for the variables listed in the <code>variables</code> argument, by average across all categories in the grid.
</p>
<p>
<code>marginal_means</code> can only compute standard errors for linear models, or for predictions on the link scale, that is, with the <code>type</code> argument set to "link".
</p>
<p>
The <code>marginaleffects</code> website compares the output of this function to the popular <code>emmeans</code> package, which provides similar but more advanced functionality: https://vincentarelbundock.github.io/marginaleffects/
</p>
</section><section id="value" class="level2"><h2 class="anchored" data-anchor-id="value">Value</h2>
<p>
Data frame of marginal means with one row per variable-value combination.
</p>
</section><section id="standard-errors-using-the-delta-method" class="level2"><h2 class="anchored" data-anchor-id="standard-errors-using-the-delta-method">Standard errors using the delta method</h2>
<p>
Standard errors for all quantities estimated by <code>marginaleffects</code> can be obtained via the delta method. This requires differentiating a function with respect to the coefficients in the model using a finite difference approach. In some models, the delta method standard errors can be sensitive to various aspects of the numeric differentiation strategy, including the step size. By default, the step size is set to <code>1e-8</code>, or to <code>1e-4</code> times the smallest absolute model coefficient, whichever is largest.
</p>
<p>
<code>marginaleffects</code> can delegate numeric differentiation to the <code>numDeriv</code> package, which allows more flexibility. To do this, users can pass arguments to the <code><a href="https://rdrr.io/pkg/numDeriv/man/jacobian.html">numDeriv::jacobian</a></code> function through a global option. For example:
</p>
<ul>
<li>
<p>
<code>options(marginaleffects_numDeriv = list(method = “simple”, method.args = list(eps = 1e-6)))</code>
</p>
</li>
<li>
<p>
<code>options(marginaleffects_numDeriv = list(method = “Richardson”, method.args = list(eps = 1e-5)))</code>
</p>
</li>
<li>
<p>
<code>options(marginaleffects_numDeriv = NULL)</code>
</p>
</li>
</ul>
<p>
See the "Standard Errors and Confidence Intervals" vignette on the <code>marginaleffects</code> website for more details on the computation of standard errors:
</p>
<p>
https://vincentarelbundock.github.io/marginaleffects/articles/uncertainty.html
</p>
<p>
Note that the <code><a href="https://vincentarelbundock.github.io/marginaleffects/reference/inferences.html">inferences()</a></code> function can be used to compute uncertainty estimates using a bootstrap or simulation-based inference. See the vignette:
</p>
<p>
https://vincentarelbundock.github.io/marginaleffects/articles/bootstrap.html
</p>
</section><section id="model-specific-arguments" class="level2"><h2 class="anchored" data-anchor-id="model-specific-arguments">Model-Specific Arguments</h2>
<p>
Some model types allow model-specific arguments to modify the nature of marginal effects, predictions, marginal means, and contrasts. Please report other package-specific <code><a href="https://rdrr.io/r/stats/predict.html">predict()</a></code> arguments on Github so we can add them to the table below.
</p>
<p>
https://github.com/vincentarelbundock/marginaleffects/issues
</p>

<table>
<tbody><tr>
<td style="text-align: left;">
Package
</td>
<td style="text-align: left;">
Class
</td>
<td style="text-align: left;">
Argument
</td>
<td style="text-align: left;">
Documentation
</td>
</tr>
<tr>
<td style="text-align: left;">
<code>brms</code>
</td>
<td style="text-align: left;">
<code>brmsfit</code>
</td>
<td style="text-align: left;">
<code>ndraws</code>
</td>
<td style="text-align: left;">
brms::posterior_predict
</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;">
</td>
<td style="text-align: left;">
<code>re_formula</code>
</td>
<td style="text-align: left;">
brms::posterior_predict
</td>
</tr>
<tr>
<td style="text-align: left;">
<code>lme4</code>
</td>
<td style="text-align: left;">
<code>merMod</code>
</td>
<td style="text-align: left;">
<code>re.form</code>
</td>
<td style="text-align: left;">
lme4::predict.merMod
</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;">
</td>
<td style="text-align: left;">
<code>allow.new.levels</code>
</td>
<td style="text-align: left;">
lme4::predict.merMod
</td>
</tr>
<tr>
<td style="text-align: left;">
<code>glmmTMB</code>
</td>
<td style="text-align: left;">
<code>glmmTMB</code>
</td>
<td style="text-align: left;">
<code>re.form</code>
</td>
<td style="text-align: left;">
glmmTMB::predict.glmmTMB
</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;">
</td>
<td style="text-align: left;">
<code>allow.new.levels</code>
</td>
<td style="text-align: left;">
glmmTMB::predict.glmmTMB
</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;">
</td>
<td style="text-align: left;">
<code>zitype</code>
</td>
<td style="text-align: left;">
glmmTMB::predict.glmmTMB
</td>
</tr>
<tr>
<td style="text-align: left;">
<code>mgcv</code>
</td>
<td style="text-align: left;">
<code>bam</code>
</td>
<td style="text-align: left;">
<code>exclude</code>
</td>
<td style="text-align: left;">
mgcv::predict.bam
</td>
</tr>
<tr>
<td style="text-align: left;">
<code>robustlmm</code>
</td>
<td style="text-align: left;">
<code>rlmerMod</code>
</td>
<td style="text-align: left;">
<code>re.form</code>
</td>
<td style="text-align: left;">
robustlmm::predict.rlmerMod
</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;">
</td>
<td style="text-align: left;">
<code>allow.new.levels</code>
</td>
<td style="text-align: left;">
robustlmm::predict.rlmerMod
</td>
</tr>
<tr>
<td style="text-align: left;">
<code>MCMCglmm</code>
</td>
<td style="text-align: left;">
<code>MCMCglmm</code>
</td>
<td style="text-align: left;">
<code>ndraws</code>
</td>
<td style="text-align: left;">
</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</tbody></table></section><section id="bayesian-posterior-summaries" class="level2"><h2 class="anchored" data-anchor-id="bayesian-posterior-summaries">Bayesian posterior summaries</h2>
<p>
By default, credible intervals in bayesian models are built as equal-tailed intervals. This can be changed to a highest density interval by setting a global option:
</p>
<p>
<code>options(“marginaleffects_posterior_interval” = “eti”)</code>
</p>
<p>
<code>options(“marginaleffects_posterior_interval” = “hdi”)</code>
</p>
<p>
By default, the center of the posterior distribution in bayesian models is identified by the median. Users can use a different summary function by setting a global option:
</p>
<p>
<code>options(“marginaleffects_posterior_center” = “mean”)</code>
</p>
<p>
<code>options(“marginaleffects_posterior_center” = “median”)</code>
</p>
<p>
When estimates are averaged using the <code>by</code> argument, the <code><a href="https://generics.r-lib.org/reference/tidy.html">tidy()</a></code> function, or the <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> function, the posterior distribution is marginalized twice over. First, we take the average <em>across</em> units but <em>within</em> each iteration of the MCMC chain, according to what the user requested in <code>by</code> argument or <code>tidy()/summary()</code> functions. Then, we identify the center of the resulting posterior using the function supplied to the <code>“marginaleffects_posterior_center”</code> option (the median by default).
</p>
</section><section id="equivalence-inferiority-superiority" class="level2"><h2 class="anchored" data-anchor-id="equivalence-inferiority-superiority">Equivalence, Inferiority, Superiority</h2>
<p>
<code class="reqn"></code> is an estimate, <code class="reqn">_</code> its estimated standard error, and <code class="reqn">[a, b]</code> are the bounds of the interval supplied to the <code>equivalence</code> argument.
</p>
<p>
Non-inferiority:
</p>
<ul>
<li>
<p>
<code class="reqn">H_0</code>: <code class="reqn">a</code>
</p>
</li>
<li>
<p>
<code class="reqn">H_1</code>: <code class="reqn">&gt; a</code>
</p>
</li>
<li>
<p>
<code class="reqn">t=(- a)/_</code>
</p>
</li>
<li>
<p>
p: Upper-tail probability
</p>
</li>
</ul>
<p>
Non-superiority:
</p>
<ul>
<li>
<p>
<code class="reqn">H_0</code>: <code class="reqn">b</code>
</p>
</li>
<li>
<p>
<code class="reqn">H_1</code>: <code class="reqn">&lt; b</code>
</p>
</li>
<li>
<p>
<code class="reqn">t=(- b)/_</code>
</p>
</li>
<li>
<p>
p: Lower-tail probability
</p>
</li>
</ul>
<p>
Equivalence: Two One-Sided Tests (TOST)
</p>
<ul>
<li>
<p>
p: Maximum of the non-inferiority and non-superiority p values.
</p>
</li>
</ul>
<p>
Thanks to Russell V. Lenth for the excellent <code>emmeans</code> package and documentation which inspired this feature.
</p>
</section><section id="examples" class="level2"><h2 class="anchored" data-anchor-id="examples">Examples</h2>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/marginaleffects/">marginaleffects</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># simple marginal means for each level of `cyl`</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">carb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">carb</span><span class="op">)</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">cyl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">am</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/logical.html">as.logical</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">am</span><span class="op">)</span></span>
<span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">carb</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">+</span> <span class="va">am</span>, <span class="va">dat</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://vincentarelbundock.github.io/marginaleffects/reference/marginal_means.html">marginal_means</a></span><span class="op">(</span></span>
<span>  <span class="va">mod</span>,</span>
<span>  variables <span class="op">=</span> <span class="st">"cyl"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Term Value Mean Std. Error    z Pr(&gt;|z|) 2.5 % 97.5 %
  cyl     6 20.4       1.34 15.2   &lt;0.001  17.8   23.0
  cyl     4 23.1       1.66 13.9   &lt;0.001  19.9   26.4
  cyl     8 16.2       1.07 15.1   &lt;0.001  14.1   18.3

Results averaged over levels of: carb, am, cyl 
Columns: term, value, cyl, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># collapse levels of cyl by averaging</span></span>
<span><span class="va">by</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>  cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"4 &amp;amp; 6"</span>, <span class="st">"4 &amp;amp; 6"</span>, <span class="st">"8"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://vincentarelbundock.github.io/marginaleffects/reference/marginal_means.html">marginal_means</a></span><span class="op">(</span><span class="va">mod</span>,</span>
<span>  variables <span class="op">=</span> <span class="st">"cyl"</span>,</span>
<span>  by <span class="op">=</span> <span class="va">by</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
        By Mean Std. Error    z Pr(&gt;|z|) 2.5 % 97.5 %
 4 &amp;amp; 6 21.7       1.13 19.2   &lt;0.001  19.5   24.0
 8         16.2       1.07 15.1   &lt;0.001  14.1   18.3

Results averaged over levels of: carb, am, cyl 
Columns: by, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># pairwise differences between collapsed levels</span></span>
<span><span class="fu"><a href="https://vincentarelbundock.github.io/marginaleffects/reference/marginal_means.html">marginal_means</a></span><span class="op">(</span><span class="va">mod</span>,</span>
<span>  variables <span class="op">=</span> <span class="st">"cyl"</span>,</span>
<span>  by <span class="op">=</span> <span class="va">by</span>,</span>
<span>  hypothesis <span class="op">=</span> <span class="st">"pairwise"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
          Term Mean Std. Error    z Pr(&gt;|z|) 2.5 % 97.5 %
 4 &amp;amp; 6 - 8 5.54       1.51 3.66   &lt;0.001  2.57    8.5

Results averaged over levels of: carb, am, cyl 
Columns: term, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># cross</span></span>
<span><span class="fu"><a href="https://vincentarelbundock.github.io/marginaleffects/reference/marginal_means.html">marginal_means</a></span><span class="op">(</span><span class="va">mod</span>,</span>
<span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"carb"</span><span class="op">)</span>,</span>
<span>  cross <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Mean Std. Error     z Pr(&gt;|z|) 2.5 % 97.5 %
 19.1       1.34 14.31   &lt;0.001 16.53   21.8
 23.1       1.77 13.08   &lt;0.001 19.63   26.5
 22.9       1.87 12.24   &lt;0.001 19.20   26.5
 22.6       2.37  9.56   &lt;0.001 17.98   27.2
 17.6       3.00  5.85   &lt;0.001 11.68   23.5
 17.0       3.48  4.89   &lt;0.001 10.21   23.9
 21.9       1.90 11.51   &lt;0.001 18.15   25.6
 25.8       1.26 20.43   &lt;0.001 23.34   28.3
 25.6       1.17 21.93   &lt;0.001 23.30   27.9
 25.3       2.37 10.71   &lt;0.001 20.70   30.0
 20.3       3.77  5.39   &lt;0.001 12.91   27.7
 19.8       3.81  5.18   &lt;0.001 12.29   27.2
 15.0       1.20 12.53   &lt;0.001 12.63   17.3
 18.9       1.94  9.74   &lt;0.001 15.11   22.7
 18.7       1.57 11.90   &lt;0.001 15.61   21.8
 18.4       1.83 10.07   &lt;0.001 14.85   22.0
 13.4       3.36  3.99   &lt;0.001  6.81   20.0
 12.9       3.00  4.28   &lt;0.001  6.98   18.8

Results averaged over levels of: am 
Columns: cyl, carb, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># collapsed cross</span></span>
<span><span class="va">by</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html">expand.grid</a></span><span class="op">(</span></span>
<span>  cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span>,</span>
<span>  carb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">carb</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">by</span><span class="op">$</span><span class="va">by</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span></span>
<span>  <span class="va">by</span><span class="op">$</span><span class="va">cyl</span> <span class="op">==</span> <span class="fl">4</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Control:"</span>, <span class="va">by</span><span class="op">$</span><span class="va">carb</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Treatment:"</span>, <span class="va">by</span><span class="op">$</span><span class="va">carb</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Convert numeric variables to categorical before fitting the model</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">am</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/logical.html">as.logical</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">am</span><span class="op">)</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">carb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">carb</span><span class="op">)</span></span>
<span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">am</span> <span class="op">+</span> <span class="va">carb</span>, data <span class="op">=</span> <span class="va">dat</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute and summarize marginal means</span></span>
<span><span class="fu"><a href="https://vincentarelbundock.github.io/marginaleffects/reference/marginal_means.html">marginal_means</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Term Value Mean Std. Error     z Pr(&gt;|z|) 2.5 % 97.5 %
 am   TRUE  23.1      0.974 23.72   &lt;0.001  21.2   25.0
 am   FALSE 17.9      1.244 14.37   &lt;0.001  15.4   20.3
 carb 4     18.8      1.042 18.06   &lt;0.001  16.8   20.9
 carb 1     22.0      1.345 16.35   &lt;0.001  19.4   24.6
 carb 2     21.5      1.025 20.95   &lt;0.001  19.5   23.5
 carb 3     20.6      1.780 11.55   &lt;0.001  17.1   24.0
 carb 6     18.5      3.019  6.12   &lt;0.001  12.6   24.4
 carb 8     21.6      4.055  5.33   &lt;0.001  13.7   29.6

Results averaged over levels of: hp, am, carb 
Columns: term, value, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Contrast between marginal means (carb2 - carb1), or "is the 1st marginal means equal to the 2nd?"</span></span>
<span><span class="co"># see the vignette on "Hypothesis Tests and Custom Contrasts" on the `marginaleffects` website.</span></span>
<span><span class="va">lc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://vincentarelbundock.github.io/marginaleffects/reference/marginal_means.html">marginal_means</a></span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="st">"carb"</span>, hypothesis <span class="op">=</span> <span class="st">"b2 = b1"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Term Mean Std. Error    z Pr(&gt;|z|)  2.5 % 97.5 %
 b2=b1 3.18        1.9 1.67   0.0949 -0.552    6.9

Results averaged over levels of: am, carb 
Columns: term, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://vincentarelbundock.github.io/marginaleffects/reference/marginal_means.html">marginal_means</a></span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="st">"carb"</span>, hypothesis <span class="op">=</span> <span class="va">lc</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
   Term Mean Std. Error    z Pr(&gt;|z|)  2.5 % 97.5 %
 custom 3.18        1.9 1.67   0.0949 -0.552    6.9

Results averaged over levels of: am, carb 
Columns: term, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Multiple custom contrasts</span></span>
<span><span class="va">lc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>    <span class="op">-</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>    <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span></span>
<span>    <span class="op">)</span>,</span>
<span>  ncol <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://vincentarelbundock.github.io/marginaleffects/reference/marginal_means.html">marginal_means</a></span><span class="op">(</span><span class="va">mod</span>, variables <span class="op">=</span> <span class="st">"carb"</span>, hypothesis <span class="op">=</span> <span class="va">lc</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Term Mean Std. Error    z Pr(&gt;|z|)  2.5 % 97.5 %
    A 8.99       4.73 1.90   0.0572 -0.273   18.2
    B 3.18       1.90 1.67   0.0949 -0.552    6.9

Results averaged over levels of: am, carb 
Columns: term, estimate, std.error, statistic, p.value, conf.low, conf.high </code></pre>
</div>
</div>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../reference/slopes.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">slopes</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../reference/plot_predictions.html" class="pagination-link">
        <span class="nav-page-text">plot_predictions</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>